global:
  scrape_interval: 60s
  evaluation_interval: 60s
  external_labels:
    cluster: "${CLUSTER_LABEL}"

scrape_configs:
  - job_name: "backend"
    static_configs:
      - targets: ["${BACKEND_TARGET}"]
    metrics_path: /api/v1/internal/metrics
    scheme: ${BACKEND_SCHEME}  # credentials rotated per docs/runbooks/day2-ops.md
    basic_auth:
      username: "${METRICS_BASIC_AUTH_USER}"
      password: "${METRICS_BASIC_AUTH_PASS}"

remote_write:
  - url: "${PROM_REMOTE_WRITE_URL}"
    basic_auth:
      username: "${PROM_REMOTE_WRITE_USERNAME}"
      password: "${PROM_REMOTE_WRITE_PASSWORD}"
