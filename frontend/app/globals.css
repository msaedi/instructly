/* Shared stick-figure animation (global) */
@keyframes inst-walk {
  0% { transform: translateX(0); }
  35% { transform: translateX(236px); }
  37% { transform: translateX(236px) translateY(-2px); }
  41% { transform: translateX(236px) translateY(-8px); }
  45% { transform: translateX(236px) translateY(-2px); }
  49% { transform: translateX(236px) translateY(0); }
  50% { transform: translateX(236px); }
  85% { transform: translateX(0); }
  100% { transform: translateX(0); }
}
@keyframes inst-leftLeg { 0%,100%{transform:rotate(0deg);transform-origin:8px 12px;} 5%{transform:rotate(-15deg);transform-origin:8px 12px;} 10%{transform:rotate(0deg);transform-origin:8px 12px;} 15%{transform:rotate(15deg);transform-origin:8px 12px;} 20%{transform:rotate(0deg);transform-origin:8px 12px;} 25%{transform:rotate(-15deg);transform-origin:8px 12px;} 30%{transform:rotate(0deg);transform-origin:8px 12px;} 50%,100%{transform:rotate(0deg);transform-origin:8px 12px;} 55%{transform:rotate(15deg);transform-origin:8px 12px;} 60%{transform:rotate(0deg);transform-origin:8px 12px;} 65%{transform:rotate(-15deg);transform-origin:8px 12px;} 70%{transform:rotate(0deg);transform-origin:8px 12px;} 75%{transform:rotate(15deg);transform-origin:8px 12px;} 80%{transform:rotate(0deg);transform-origin:8px 12px;} }
@keyframes inst-rightLeg { 0%,100%{transform:rotate(0deg);transform-origin:8px 12px;} 5%{transform:rotate(15deg);transform-origin:8px 12px;} 10%{transform:rotate(0deg);transform-origin:8px 12px;} 15%{transform:rotate(-15deg);transform-origin:8px 12px;} 20%{transform:rotate(0deg);transform-origin:8px 12px;} 25%{transform:rotate(15deg);transform-origin:8px 12px;} 30%{transform:rotate(0deg);transform-origin:8px 12px;} 50%,100%{transform:rotate(0deg);transform-origin:8px 12px;} 55%{transform:rotate(-15deg);transform-origin:8px 12px;} 60%{transform:rotate(0deg);transform-origin:8px 12px;} 65%{transform:rotate(15deg);transform-origin:8px 12px;} 70%{transform:rotate(0deg);transform-origin:8px 12px;} 75%{transform:rotate(-15deg);transform-origin:8px 12px;} 80%{transform:rotate(0deg);transform-origin:8px 12px;} }
@keyframes inst-leftArm { 0%,100%{transform:rotate(0deg);transform-origin:8px 8px;} 5%{transform:rotate(20deg);transform-origin:8px 8px;} 10%{transform:rotate(0deg);transform-origin:8px 8px;} 15%{transform:rotate(-20deg);transform-origin:8px 8px;} 20%{transform:rotate(0deg);transform-origin:8px 8px;} 25%{transform:rotate(20deg);transform-origin:8px 8px;} 30%{transform:rotate(0deg);transform-origin:8px 8px;} 37%,49%{transform:rotate(-30deg);transform-origin:8px 8px;} 41%,45%{transform:rotate(30deg);transform-origin:8px 8px;} 50%,100%{transform:rotate(0deg);transform-origin:8px 8px;} 55%{transform:rotate(-20deg);transform-origin:8px 8px;} 60%{transform:rotate(0deg);transform-origin:8px 8px;} 65%{transform:rotate(20deg);transform-origin:8px 8px;} 70%{transform:rotate(0deg);transform-origin:8px 8px;} 75%{transform:rotate(-20deg);transform-origin:8px 8px;} 80%{transform:rotate(0deg);transform-origin:8px 8px;} }
@keyframes inst-rightArm { 0%,100%{transform:rotate(0deg);transform-origin:8px 8px;} 5%{transform:rotate(-20deg);transform-origin:8px 8px;} 10%{transform:rotate(0deg);transform-origin:8px 8px;} 15%{transform:rotate(20deg);transform-origin:8px 8px;} 20%{transform:rotate(0deg);transform-origin:8px 8px;} 25%{transform:rotate(-20deg);transform-origin:8px 8px;} 30%{transform:rotate(0deg);transform-origin:8px 8px;} 37%,49%{transform:rotate(30deg);transform-origin:8px 8px;} 41%,45%{transform:rotate(-30deg);transform-origin:8px 8px;} 50%,100%{transform:rotate(0deg);transform-origin:8px 8px;} 55%{transform:rotate(20deg);transform-origin:8px 8px;} 60%{transform:rotate(0deg);transform-origin:8px 8px;} 65%{transform:rotate(-20deg);transform-origin:8px 8px;} 70%{transform:rotate(0deg);transform-origin:8px 8px;} 75%{transform:rotate(20deg);transform-origin:8px 8px;} 80%{transform:rotate(0deg);transform-origin:8px 8px;} }

@keyframes invite-pop {
  0% {
    transform: scale(0.92);
    opacity: 0;
  }
  70% {
    transform: scale(1.05);
    opacity: 1;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

.animate-invite-pop {
  animation: invite-pop 220ms ease-out;
}

.inst-anim-walk { animation: inst-walk 20s linear infinite; }
.inst-anim-leftLeg { animation: inst-leftLeg 20s linear infinite; }
.inst-anim-rightLeg { animation: inst-rightLeg 20s linear infinite; }
.inst-anim-leftArm { animation: inst-leftArm 20s linear infinite; }
.inst-anim-rightArm { animation: inst-rightArm 20s linear infinite; }

/* Variant for profile page: walk to Account Setup circle and jump, then return */
@keyframes inst-walk-profile {
  0%, 100% { transform: translate3d(0, 0, 0); }
  50% { transform: translate3d(0, -12px, 0); }
}
.inst-anim-walk-profile { animation: inst-walk-profile 1.6s cubic-bezier(0.25, 0.46, 0.45, 0.94) infinite; will-change: transform; backface-visibility: hidden; }
/* Disable limb swing in profile variant to avoid perceived jitter */
.inst-anim-walk-profile .inst-anim-leftArm-fast,
.inst-anim-walk-profile .inst-anim-rightArm-fast,
.inst-anim-walk-profile .inst-anim-leftLeg-fast,
.inst-anim-walk-profile .inst-anim-rightLeg-fast { animation: none !important; }
.inst-anim-walk-profile svg { shape-rendering: geometricPrecision; }

/* Faster limb swing for short-range profile animation */
.inst-anim-leftLeg-fast { animation: inst-leftLeg 0.5s linear infinite; }
.inst-anim-rightLeg-fast { animation: inst-rightLeg 0.5s linear infinite; }
.inst-anim-leftArm-fast { animation: inst-leftArm 0.5s linear infinite; }
.inst-anim-rightArm-fast { animation: inst-rightArm 0.5s linear infinite; }

@media (prefers-reduced-motion: reduce) {
  .inst-anim-walk,
  .inst-anim-leftLeg,
  .inst-anim-rightLeg,
  .inst-anim-leftArm,
  .inst-anim-rightArm { animation: none !important; }
}
/* frontend/app/globals.css */
@import 'tailwindcss';

/* Global body styles */
body {
  font-family: var(--font-geist-sans), Arial, Helvetica, sans-serif;
}

/* Hide scrollbars but keep functionality */
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

.scrollbar-hide {
  -ms-overflow-style: none;  /* IE and Edge */
  scrollbar-width: none;  /* Firefox */
}

/*
 * Root CSS Custom Properties
 * Define global design tokens for consistent theming
 */
 :root {
  /* Color Variables */
  --background: 0 0% 100%;
  --foreground: #171717;
  --background-secondary: #f9fafb;
  --foreground-secondary: #6b7280;

  /* Brand Colors */
  --color-primary: #7E22CE; /* Brand Purple */
  --color-primary-hover: #7E22CE; /* Keep solid on hover (no color change) */
  --color-primary-light: #EDE7F6; /* Pastel Lavender for cards */

  /* Map to shadcn/ui CSS variables */
  --primary: var(--color-primary);
  --primary-foreground: #ffffff;
  --accent: var(--color-primary-light);
  --card: var(--color-primary-light);
  --card-foreground: var(--foreground);
  --input: #e5e7eb; /* gray-200 fallback */
  --ring: var(--color-primary);

  /* Modal Settings */
  --modal-backdrop: rgba(0, 0, 0, 0.5); /* Semi-transparent backdrop for modals */

  /* Semantic Colors */
  --color-success: #10b981;
  --color-warning: #f59e0b;
  --color-error: #ef4444;
  --color-info: #3b82f6;

  /* Spacing Scale */
  --spacing-xs: 0.5rem;
  --spacing-sm: 1rem;
  --spacing-md: 1.5rem;
  --spacing-lg: 2rem;
  --spacing-xl: 3rem;
  --spacing-2xl: 4rem;

  /* Availability calendar spacing */
  --slot-gap-x: 0px;
  --slot-gap-y: 8px;

  /* Border Radius */
  --radius-sm: 0.25rem;
  --radius-md: 0.5rem;
  --radius-lg: 1rem;
  --radius-full: 9999px;

  /* Shadows */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);

  /* Transitions */
  --transition-fast: 150ms ease-in-out;
  --transition-base: 300ms ease-in-out;
  --transition-slow: 500ms ease-in-out;

  /* Z-index Scale */
  --z-dropdown: 10;
  --z-modal: 50;
  --z-tooltip: 60;
  --z-notification: 70;
}

/* Remove @theme directive - not widely supported yet */
/* Font variables are already available via CSS custom properties */

/* Dark Mode Support */
@media (prefers-color-scheme: dark) {
  :root {
    --background: 222 47% 11%;
    --foreground: #f3f4f6; /* Gray 100 */
    --background-secondary: #1f2937; /* Gray 800 */
    --foreground-secondary: #9ca3af; /* Gray 400 */

    /* Adjusted brand colors for dark mode - match brand purple */
    --color-primary: #7E22CE; /* Brand Purple */
    --color-primary-hover: #7E22CE; /* Keep solid on hover */
    --color-primary-light: #312e81; /* Indigo 900 */

    /* Adjusted semantic colors for dark mode */
    --color-success: #059669;
    --color-warning: #d97706;
    --color-error: #dc2626;
    --color-info: #2563eb;

    /* Adjusted shadows for dark mode */
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.5);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.5);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.5);
  }

  /* Force dark backgrounds on common elements */
  body {
    background-color: #111827 !important; /* Gray 900 */
    color: #f3f4f6 !important; /* Gray 100 */
  }

  /* Ensure all white backgrounds become dark */
  .bg-white {
    background-color: #1f2937 !important; /* Gray 800 */
  }

  .bg-gray-50 {
    background-color: #111827 !important; /* Gray 900 */
  }

  /* Fix text colors */
.text-gray-900 {
    color: #f3f4f6 !important; /* Gray 100 */
  }

  .text-gray-600 {
    color: #9ca3af !important; /* Gray 400 */
  }

  /* Fix borders */
  .border-gray-100,
  .border-gray-200,
  .border-gray-300 {
    border-color: #374151 !important; /* Gray 700 */
  }

  /* Availability Grid Dark Mode Fixes */
  /* Available slots (green) */
  .bg-green-500 {
    background-color: #059669 !important; /* Emerald 600 - darker green */
  }

  /* Unavailable slots (gray/white) */
  .bg-gray-200,
  .bg-gray-100 {
    background-color: #374151 !important; /* Gray 700 */
  }

  /* Booked slots */
  .bg-red-100 {
    background-color: #991b1b !important; /* Red 800 - lighter than 900 */
    color: #fee2e2 !important; /* Red 100 - much lighter text */
  }

  /* Ensure all text in booked slots is visible */
  .bg-red-100 * {
    color: #fee2e2 !important; /* Red 100 */
  }

  .bg-orange-100 {
    background-color: #92400e !important; /* Amber 800 - lighter than 900 */
    color: #fef3c7 !important; /* Amber 100 - much lighter text */
  }

  .bg-orange-100 * {
    color: #fef3c7 !important; /* Amber 100 */
  }

  /* How it works section */
  .bg-blue-50 {
    background-color: #1e3a8a !important; /* Blue 900 */
    color: #e0e7ff !important; /* Indigo 100 - better contrast */
  }

  /* Ensure all text in blue boxes is visible */
  .bg-blue-50 * {
    color: #e0e7ff !important; /* Indigo 100 */
  }

  /* Text in light backgrounds needs to be light in dark mode */
  .text-green-700 {
    color: #34d399 !important; /* Emerald 400 */
  }

  .text-gray-700 {
    color: #d1d5db !important; /* Gray 300 */
  }

  .text-gray-500 {
    color: #9ca3af !important; /* Gray 400 */
  }

  .text-gray-400 {
    color: #d1d5db !important; /* Gray 300 */
  }

  /* Calendar grid header */
  .text-gray-600 {
    color: #9ca3af !important; /* Gray 400 */
  }
}

/* Base Styles */
body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-sans), Arial, Helvetica, sans-serif;
  line-height: 1.5;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Form Input Styles - Fix dark mode visibility */
input,
textarea,
select {
  background-color: var(--background);
  color: var(--foreground);
  /* Note: border-color intentionally omitted - let Tailwind utilities control borders */
}

/* Dark mode specific input styles */
@media (prefers-color-scheme: dark) {
  input,
  textarea,
  select {
    background-color: #1f2937; /* Gray 800 */
    color: #f3f4f6; /* Gray 100 */
    /* Note: border-color omitted - let Tailwind utilities control borders */
  }

  input::placeholder,
  textarea::placeholder {
    color: #9ca3af; /* Gray 400 */
  }

  /* Focus styles for dark mode */
  input:focus,
  textarea:focus,
  select:focus {
    border-color: var(--color-primary);
    background-color: #111827; /* Gray 900 */
  }
}

/* Selection Styles */
::selection {
  background-color: var(--color-primary-light);
  color: var(--color-primary);
}

/* Focus Styles for Accessibility */
:focus-visible {
  outline: 2px solid var(--color-primary);
  outline-offset: 2px;
}

/* Remove default focus for mouse users */
:focus:not(:focus-visible) {
  outline: none;
}

/* Scrollbar Styles (Webkit browsers) */
::-webkit-scrollbar {
  width: 2px;
  height: 2px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: var(--foreground-secondary);
  border-radius: var(--radius-md);
}

::-webkit-scrollbar-thumb:hover {
  background: var(--foreground);
}

/* Thin scrollbars for Firefox */
* {
  scrollbar-width: thin;
}

/* Skip to Main Content Link (Accessibility) */
.skip-to-main {
  position: absolute;
  left: -999px;
  width: 1px;
  height: 1px;
  top: auto;
  z-index: -999;
}

.skip-to-main:focus,
.skip-to-main:active {
  left: 0;
  top: 0;
  width: auto;
  height: auto;
  padding: var(--spacing-sm);
  background: var(--background);
  color: var(--foreground);
  text-decoration: underline;
  z-index: 999;
}

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Print Styles */
@media print {
  body {
    background: white;
    color: black;
  }

  /* Hide navigation and non-essential elements */
  nav,
  .no-print,
  button,
  .modal {
    display: none !important;
  }

  /* Ensure links are visible */
  a {
    color: black;
    text-decoration: underline;
  }

  /* Show link URLs */
  a[href^='http']:after {
    content: ' (' attr(href) ')';
    font-size: 0.8em;
  }

  /* Page break utilities */
  .page-break-before {
    page-break-before: always;
  }

  .page-break-after {
    page-break-after: always;
  }

  .avoid-break {
    page-break-inside: avoid;
  }
}

/* Utility Classes */

/* Visually Hidden (Screen Reader Only) */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* Global interactive conventions */
/* Cursor: pointer for interactive controls, text for editable fields */
button:not(:disabled),
[role="button"],
a {
  cursor: pointer;
  transition: none;
  transform: none;
}

input,
textarea,
select,
[contenteditable="true"] {
  cursor: text;
}

/* Reusable utility for clickable surfaces (cards, rows) */
.clickable {
  cursor: pointer;
  transition: none;
  transform: none;
}

.clickable:hover {
  background-color: rgba(0, 0, 0, 0.04);
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
}

.clickable:active {
  transform: scale(1.0);
}
/* Neutralize Tailwind hover color utilities for buttons (no color change)
   Exclude brand purple backgrounds so they remain solid on hover
   Also exclude .stat-card buttons which need their own hover behavior */
button[class*="hover:bg-"]:not([class*="bg-[#7E22CE]"]):not([class*="bg-purple-600"]):not([class*="bg-primary"]):not([class*="bg-white"]):not(.stat-card):not(:disabled):hover,
[role="button"][class*="hover:bg-"]:not([class*="bg-[#7E22CE]"]):not([class*="bg-purple-600"]):not([class*="bg-primary"]):not([class*="bg-white"]):not(.stat-card):not(:disabled):hover {
  /* keep original background (no color shift); only scale applies */
  background-color: inherit !important;
}

button[class*="hover:text-"]:not([class*="text-white"]):not(.stat-card):not(:disabled):hover,
[role="button"][class*="hover:text-"]:not([class*="text-white"]):not(.stat-card):not(:disabled):hover {
  color: inherit !important;
}

button[class*="hover:border-"]:not([class*="border-transparent"]):not(.stat-card):not(:disabled):hover,
[role="button"][class*="hover:border-"]:not([class*="border-transparent"]):not(.stat-card):not(:disabled):hover {
  border-color: currentColor !important;
}

/* Anchor elements styled as buttons: keep base background/text/border on hover.
   Exclude brand purple so it stays solid on hover. */
a[class*="bg-"][class*="hover:bg-"]:not([class*="bg-[#7E22CE]"]):not([class*="bg-purple-600"]):not([class*="bg-primary"]):not([class*="bg-white"]):hover {
  background-color: revert !important;
}

a[class*="bg-"][class*="hover:text-"]:not([class*="text-white"]):hover {
  color: revert !important;
}

a[class*="bg-"][class*="hover:border-"]:not([class*="border-transparent"]):hover {
  border-color: revert !important;
}

/* Keep brand purple buttons solid on hover */
button.bg-\[\#7E22CE\]:not(:disabled):hover,
[role="button"].bg-\[\#7E22CE\]:not(:disabled):hover,
a.bg-\[\#7E22CE\]:hover {
  background-color: #7E22CE !important;
  color: #ffffff !important;
  filter: none !important; /* prevent color shift-induced blur */
}

/* Ensure crisp, bright white typography on brand purple buttons */
button.bg-\[\#7E22CE\],
[role="button"].bg-\[\#7E22CE\],
a.bg-\[\#7E22CE\],
button.bg-primary,
[role="button"].bg-primary,
a.bg-primary {
  color: var(--primary-foreground) !important;
  font-weight: 600; /* match the crisp Save button */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

/* Support primary token-based tokens (base + hover) */
.bg-primary {
  background-color: var(--primary) !important;
  color: var(--primary-foreground) !important;
}

.text-primary {
  color: var(--primary) !important;
}

/* Hover treatment for primary tokens â€” darken to purple-800 (#6B21A8) */
button.bg-primary:not(:disabled):hover,
[role="button"].bg-primary:not(:disabled):hover,
a.bg-primary:hover {
  background-color: #6B21A8 !important;
  color: var(--primary-foreground) !important;
}

/* Keep white buttons solid on hover (no color or border change)
   Exclude .stat-card and .profile-view-btn buttons which have their own hover styles */
button.bg-white:not(.stat-card):not(.profile-view-btn):not(:disabled):hover,
[role="button"].bg-white:not(.stat-card):not(.profile-view-btn):not(:disabled):hover,
a.bg-white:hover {
  background-color: #ffffff !important;
}

button.bg-purple-600:not(:disabled):hover,
[role="button"].bg-purple-600:not(:disabled):hover,
a.bg-purple-600:hover {
  /* Tailwind purple-600 default */
  background-color: #9333ea !important;
  color: #ffffff !important;
}

/* Disable hover effects utility for circular avatar triggers */
.no-hover-effects:hover {
  background-color: transparent !important;
  box-shadow: none !important;
  transform: none !important;
}

/* Dashboard stat cards - explicit hover styles that work in both light and dark mode */
/* Use high specificity to override button.bg-white rules */
button.stat-card.bg-white:not(:disabled):hover,
button.stat-card:not(:disabled):hover {
  background-color: rgb(249 250 251) !important; /* gray-50 */
  border-color: rgb(216 180 254) !important; /* purple-300 */
}

@media (prefers-color-scheme: dark) {
  button.stat-card.bg-white:not(:disabled):hover,
  button.stat-card:not(:disabled):hover {
    background-color: rgb(55 65 81) !important; /* gray-700 */
    border-color: rgb(147 51 234) !important; /* purple-600 */
  }
}

/* Public profile button - explicit hover styles */
button.profile-view-btn.bg-white:not(:disabled):hover,
button.profile-view-btn:not(:disabled):hover {
  background-color: rgb(249 250 251) !important; /* gray-50 */
  border-color: rgb(216 180 254) !important; /* purple-300 */
}

@media (prefers-color-scheme: dark) {
  button.profile-view-btn.bg-white:not(:disabled):hover,
  button.profile-view-btn:not(:disabled):hover {
    background-color: rgb(55 65 81) !important; /* gray-700 */
    border-color: rgb(168 85 247) !important; /* purple-500 */
  }
}

/* Ensure full-pill hover area for neighborhood chips */
.chip-hover {
  -webkit-tap-highlight-color: transparent;
}

/* Utility to remove iOS tap highlight for any element */
.no-tap-highlight {
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
}

/* Hard-disable iOS tap highlight for common interactive elements */
button,
a,
[role="button"],
svg {
  -webkit-tap-highlight-color: transparent;
}

/* Disable only shadow/scale hover (keep background hovers intact) */
.no-hover-shadow:hover {
  box-shadow: none !important;
  transform: none !important;
}

button:not(:disabled):active,
[role="button"]:not(:disabled):active {
  transform: scale(1.0);
}


/* Avoid text blurring on touch when pressing buttons by disabling transform on tap */
@media (hover: none) {
  button:not(:disabled):hover,
  [role="button"]:not(:disabled):hover,
  .clickable:hover {
    transform: none !important;
  }
}

/* Keep transform on active for micro-feedback, but preserve clarity */
button:not(:disabled):active,
[role="button"]:not(:disabled):active,
a[role="button"]:active {
  transform: none;
}

/* Links: avoid color/brightness filter that causes subpixel blurring */
a:hover {
  filter: none !important;
}

/* Do not dim anchor elements that are styled as buttons */
a[class*="bg-"]:hover {
  filter: none !important;
}

@media (prefers-reduced-motion: reduce) {
  .clickable,
  button,
  [role="button"],
  a {
    transition: color 0.2s ease-in-out;
  }

  .clickable:hover,
  button:hover,
  [role="button"]:hover {
    transform: none;
    box-shadow: none;
  }
}

/* Container with Consistent Padding */
.container-padding {
  padding-left: var(--spacing-md);
  padding-right: var(--spacing-md);
}

/* Hide number input spinners for fields using .no-spinner */
input[type="number"].no-spinner::-webkit-outer-spin-button,
input[type="number"].no-spinner::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}
input[type="number"].no-spinner {
  -moz-appearance: textfield;
  appearance: textfield;
}

@media (min-width: 640px) {
  .container-padding {
    padding-left: var(--spacing-lg);
    padding-right: var(--spacing-lg);
  }
}

/* Smooth Scroll Behavior */
html {
  scroll-behavior: smooth;
}

@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }
}

/* Loading Spinner Animation */
@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.animate-spin {
  animation: spin 1s linear infinite;
}

/* Fade In Animation */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  animation: fadeIn var(--transition-base) ease-out;
}

/* Subtle blinking for attention cards */
@keyframes blinkSoft {
  0%, 100% {
    box-shadow: var(--shadow-sm);
    border-color: #e5e7eb; /* gray-200 */
    transform: translateZ(0) scale(1.0);
  }
  50% {
    box-shadow: 0 0 0 3px rgba(126, 34, 206, 0.12), 0 2px 8px rgba(0,0,0,0.08);
    border-color: #7E22CE;
    transform: translateZ(0) scale(1.01);
  }
}

.blink-card {
  animation: blinkSoft 1.8s ease-in-out infinite;
}

/* Subtle pulse for join-ready buttons */
@keyframes pulseJoin {
  0%, 100% { box-shadow: 0 0 0 0 rgba(126, 34, 206, 0.4); }
  50% { box-shadow: 0 0 0 8px rgba(126, 34, 206, 0); }
}
.animate-pulse-join { animation: pulseJoin 2s ease-in-out infinite; }

@media (prefers-reduced-motion: reduce) {
  .animate-pulse-join { animation: none !important; }
}

/* Fade In Up Animation for Service Capsules */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in-up {
  animation: fadeInUp 0.3s ease-out;
  opacity: 0;
}

/* Slide Down Animation for Notification Bar */
@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-100%);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-slide-down {
  animation: slideDown 0.3s ease-out;
}

/* Dropdown Menu Animation */
@keyframes fadeInDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in-down {
  animation: fadeInDown 0.2s ease-out;
}

/* Fix Autocomplete in Dark Mode */
/* Brand autofill background override (light lavender) */
.autofill-fix:-webkit-autofill,
.autofill-fix:-webkit-autofill:hover,
.autofill-fix:-webkit-autofill:focus,
.autofill-fix:-webkit-autofill:active {
  -webkit-box-shadow: 0 0 0 1000px #ffffff inset !important; /* keep white */
  -webkit-text-fill-color: #111827 !important;
  transition: background-color 5000s ease-in-out 0s;
}

@media (prefers-color-scheme: dark) {
  .autofill-fix:-webkit-autofill,
  .autofill-fix:-webkit-autofill:hover,
  .autofill-fix:-webkit-autofill:focus,
  .autofill-fix:-webkit-autofill:active {
    -webkit-box-shadow: 0 0 0 1000px #374151 inset !important;
    -webkit-text-fill-color: #f9fafb !important;
  }
}

/* Purple highlighting for time input fields */
.time-input-purple::-webkit-datetime-edit-hour-field:focus,
.time-input-purple::-webkit-datetime-edit-minute-field:focus,
.time-input-purple::-webkit-datetime-edit-ampm-field:focus,
.time-input-purple::-webkit-datetime-edit-meridiem-field:focus,
.time-input-purple::-webkit-datetime-edit-text:focus {
  background-color: rgb(233, 213, 255) !important;
  color: rgb(88, 28, 135) !important;
  border-radius: 4px !important;
  outline: none !important;
}

/* Firefox time input purple highlighting */
.time-input-purple:focus-within {
  accent-color: rgb(107, 33, 168);
}

/* For browsers that support color-scheme */
.time-input-purple {
  color-scheme: light;
}

.now-line {
  position: absolute;
  left: 0;
  right: 0;
  height: 1px;
  background: #ef4444;
  z-index: 20;
  pointer-events: none;
}

.now-dot {
  position: absolute;
  width: 8px;
  height: 8px;
  border-radius: 9999px;
  background: #ef4444;
  transform: translate(-4px, -4px);
  z-index: 20;
  pointer-events: none;
}

.focus-link {
  outline: none;
  box-shadow: none;
  transition: color 150ms ease, text-decoration-thickness 150ms ease;
}

.focus-link:focus-visible {
  outline: none;
  box-shadow: none;
  color: #5b21b6;
  font-weight: 600;
  text-decoration-thickness: 3px;
  text-underline-offset: 3px;
  text-decoration-color: currentColor;
}

.template-title-input:focus,
.template-title-input:focus-visible {
  outline: none !important;
  box-shadow: none !important;
  border: none !important;
}

/* Toast overrides */
.sonner-toast {
  border: 1px solid rgba(255, 255, 255, 0.18);
  backdrop-filter: blur(16px);
  word-break: break-word;
  line-height: 1.35;
}

.inst-toast-title {
  font-weight: 600;
  color: #f8fafc !important;
  display: block;
  margin-bottom: 2px;
}

.inst-toast-description {
  color: rgba(249, 250, 251, 0.92) !important;
  font-size: 0.875rem;
  line-height: 1.4;
  white-space: normal;
  margin-top: 2px;
}

.sonner-toast .sonner-title {
  color: #f8fafc !important;
}

.sonner-toast .sonner-description {
  color: rgba(249, 250, 251, 0.92) !important;
  white-space: normal;
  word-break: break-word;
  line-height: 1.4;
}

/* Shared translucent surface/button utilities for auth/onboarding/dashboard */
.insta-surface-card {
  background-color: transparent !important;
  border: 0 !important;
  border-radius: 0 !important;
}

.insta-flow-panel {
  background-color: rgb(255 255 255 / 0.95) !important;
  border: 1px solid rgb(255 255 255 / 0.6) !important;
  border-radius: 1.75rem !important;
  box-shadow: 0 20px 40px rgba(126, 34, 206, 0.12) !important;
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);
}

.dark .insta-flow-panel {
  background-color: rgb(17 24 39 / 0.8) !important;
  border-color: rgb(31 41 55 / 0.6) !important;
}

@media (prefers-color-scheme: dark) {
  .insta-flow-panel {
    background-color: rgb(17 24 39 / 0.8) !important;
    border-color: rgb(31 41 55 / 0.6) !important;
  }
}

@media (min-width: 640px) {
  .insta-surface-card {
    background-color: rgb(255 255 255 / 0.9) !important;
    border: 1px solid rgb(229 231 235 / 1) !important;
    border-radius: 0.5rem !important;
  }
}

.dark .insta-surface-card {
  background-color: transparent !important;
  border: 0 !important;
  border-radius: 0 !important;
}

@media (min-width: 640px) {
  .dark .insta-surface-card {
    background-color: rgb(17 24 39 / 0.7) !important;
    border: 1px solid rgb(31 41 55 / 0.8) !important;
    border-radius: 0.5rem !important;
  }
}

@media (min-width: 640px) and (prefers-color-scheme: dark) {
  .insta-surface-card {
    background-color: rgb(17 24 39 / 0.7) !important;
    border-color: rgb(31 41 55 / 0.8) !important;
  }
}

.insta-primary-btn {
  background-color: rgba(126, 34, 206, 0.9);
}

.insta-primary-btn:hover {
  background-color: #7e22ce;
}

.insta-secondary-btn {
  color: #7e22ce !important;
  background-color: rgb(255 255 255 / 0.9) !important;
  border: 1px solid rgb(233 213 255 / 1) !important;
}

.insta-secondary-btn:hover {
  color: #7e22ce !important;
  background-color: #ffffff !important;
  border-color: rgb(216 180 254 / 1) !important;
}

.insta-dialog-backdrop {
  position: fixed;
  inset: 0;
  background-color: var(--modal-backdrop);
}

.insta-dialog-panel {
  background-color: rgb(255 255 255 / 0.95);
  box-shadow: 0 24px 48px rgba(15, 23, 42, 0.22);
  border-radius: 0.75rem;
}

.dark .insta-dialog-panel {
  background-color: rgb(17 24 39 / 0.95);
}

.insta-onboarding-header {
  margin-bottom: 1rem;
  padding: 1rem;
}

@media (min-width: 640px) {
  .insta-onboarding-header {
    margin-bottom: 1.5rem;
    padding: 1.5rem;
  }
}

.insta-onboarding-title {
  margin-bottom: 0.5rem;
  font-size: 1.875rem;
  line-height: 2.25rem;
  font-weight: 700;
  color: #111827;
}

.dark .insta-onboarding-title {
  color: #f3f4f6;
}

@media (prefers-color-scheme: dark) {
  .insta-onboarding-title {
    color: #f3f4f6;
  }
}

.insta-onboarding-subtitle {
  color: #6b7280;
}

.dark .insta-onboarding-subtitle {
  color: #9ca3af;
}

@media (prefers-color-scheme: dark) {
  .insta-onboarding-subtitle {
    color: #9ca3af;
  }
}

.insta-onboarding-strong-text {
  color: #111827;
}

.dark .insta-onboarding-strong-text {
  color: #f3f4f6;
}

@media (prefers-color-scheme: dark) {
  .insta-onboarding-strong-text {
    color: #f3f4f6;
  }
}

.insta-onboarding-divider {
  height: 1px;
  margin-left: -1rem;
  margin-right: -1rem;
  background-color: rgb(229 231 235 / 0.8);
}

.dark .insta-onboarding-divider {
  background-color: rgb(55 65 81 / 0.8);
}

@media (prefers-color-scheme: dark) {
  .insta-onboarding-divider {
    background-color: rgb(55 65 81 / 0.8);
  }
}

@media (min-width: 640px) {
  .insta-onboarding-divider {
    display: none;
  }
}

.dark .insta-onboarding-page .text-gray-900 {
  color: #f3f4f6 !important;
}

.dark .insta-onboarding-page .text-gray-800 {
  color: #e5e7eb !important;
}

.dark .insta-onboarding-page .text-gray-700 {
  color: #d1d5db !important;
}

.dark .insta-onboarding-page .text-gray-600 {
  color: #9ca3af !important;
}

.dark .insta-onboarding-page .text-gray-500 {
  color: #9ca3af !important;
}

.dark .insta-onboarding-page .text-gray-400 {
  color: #9ca3af !important;
}

@media (prefers-color-scheme: dark) {
  .insta-onboarding-page .text-gray-900 {
    color: #f3f4f6 !important;
  }

  .insta-onboarding-page .text-gray-800 {
    color: #e5e7eb !important;
  }

  .insta-onboarding-page .text-gray-700 {
    color: #d1d5db !important;
  }

  .insta-onboarding-page .text-gray-600 {
    color: #9ca3af !important;
  }

  .insta-onboarding-page .text-gray-500 {
    color: #9ca3af !important;
  }

  .insta-onboarding-page .text-gray-400 {
    color: #9ca3af !important;
  }
}

.insta-onboarding-benefit-card {
  border-radius: 0.5rem;
  border: 1px solid rgb(243 232 255);
  background-color: rgb(250 245 255);
  padding: 1rem;
}

.insta-onboarding-benefit-icon {
  border-radius: 9999px;
  background-color: rgb(243 232 255);
  color: #9333ea;
}

.insta-onboarding-benefit-title {
  font-size: 0.875rem;
  font-weight: 500;
  color: #111827;
}

.insta-onboarding-benefit-copy {
  margin-top: 0.25rem;
  font-size: 0.75rem;
  color: #4b5563;
}

.dark .insta-onboarding-benefit-card {
  border-color: rgb(126 34 206 / 0.45);
  background-color: rgb(88 28 135 / 0.22);
}

.dark .insta-onboarding-benefit-icon {
  background-color: rgb(126 34 206 / 0.3);
  color: #e9d5ff;
}

.dark .insta-onboarding-benefit-title {
  color: #f9fafb;
}

.dark .insta-onboarding-benefit-copy {
  color: #d1d5db;
}

@media (prefers-color-scheme: dark) {
  .insta-onboarding-benefit-card {
    border-color: rgb(126 34 206 / 0.45);
    background-color: rgb(88 28 135 / 0.22);
  }

  .insta-onboarding-benefit-icon {
    background-color: rgb(126 34 206 / 0.3);
    color: #e9d5ff;
  }

  .insta-onboarding-benefit-title {
    color: #f9fafb;
  }

  .insta-onboarding-benefit-copy {
    color: #d1d5db;
  }
}

.insta-dashboard-header {
  background-color: rgb(255 255 255 / 0.9) !important;
  border-bottom: 1px solid rgb(229 231 235 / 1) !important;
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}

.dark .insta-dashboard-header {
  background-color: rgb(17 24 39 / 0.7) !important;
  border-bottom-color: rgb(31 41 55 / 0.8) !important;
}

@media (prefers-color-scheme: dark) {
  .insta-dashboard-header {
    background-color: rgb(17 24 39 / 0.7) !important;
    border-bottom-color: rgb(31 41 55 / 0.8) !important;
  }
}

.insta-dashboard-page .insta-surface-card {
  background-color: rgb(255 255 255 / 0.9) !important;
  border: 1px solid rgb(229 231 235 / 1) !important;
  border-radius: 0.75rem !important;
}

.insta-dashboard-page .insta-dashboard-stat-card {
  background-color: rgb(255 255 255 / 0.9);
  border: 1px solid rgb(229 231 235 / 1);
}

.dark .insta-dashboard-page .insta-surface-card {
  background-color: rgb(17 24 39 / 0.7) !important;
  border-color: rgb(31 41 55 / 0.8) !important;
}

.dark .insta-dashboard-page .insta-dashboard-stat-card {
  background-color: rgb(17 24 39 / 0.7);
  border-color: rgb(31 41 55 / 0.8);
}

@media (prefers-color-scheme: dark) {
  .insta-dashboard-page .insta-surface-card {
    background-color: rgb(17 24 39 / 0.7) !important;
    border-color: rgb(31 41 55 / 0.8) !important;
  }

  .insta-dashboard-page .insta-dashboard-stat-card {
    background-color: rgb(17 24 39 / 0.7);
    border-color: rgb(31 41 55 / 0.8);
  }
}

.dark .insta-dashboard-page .text-gray-900 {
  color: #f3f4f6 !important;
}

.dark .insta-dashboard-page .text-gray-800 {
  color: #e5e7eb !important;
}

.dark .insta-dashboard-page .text-gray-700 {
  color: #d1d5db !important;
}

.dark .insta-dashboard-page .text-gray-600 {
  color: #9ca3af !important;
}

.dark .insta-dashboard-page .text-gray-500 {
  color: #9ca3af !important;
}

@media (prefers-color-scheme: dark) {
  .insta-dashboard-page .text-gray-900 {
    color: #f3f4f6 !important;
  }

  .insta-dashboard-page .text-gray-800 {
    color: #e5e7eb !important;
  }

  .insta-dashboard-page .text-gray-700 {
    color: #d1d5db !important;
  }

  .insta-dashboard-page .text-gray-600 {
    color: #9ca3af !important;
  }

  .insta-dashboard-page .text-gray-500 {
    color: #9ca3af !important;
  }
}

.insta-availability-panel {
  overflow: hidden;
}

.insta-availability-week-nav {
  box-shadow: none !important;
}

.insta-availability-tip {
  border: 1px solid rgb(233 213 255 / 0.85);
  background-color: rgb(250 245 255 / 0.9);
  color: #1f2937;
}

.insta-availability-tip p {
  color: inherit;
}

.dark .insta-availability-tip {
  border-color: rgb(126 34 206 / 0.45);
  background-color: rgb(88 28 135 / 0.22);
  color: #e5e7eb;
}

@media (prefers-color-scheme: dark) {
  .insta-availability-tip {
    border-color: rgb(126 34 206 / 0.45);
    background-color: rgb(88 28 135 / 0.22);
    color: #e5e7eb;
  }
}

.insta-thread-list > * + * {
  border-top: 1px solid rgb(229 231 235 / 0.65);
}

.dark .insta-thread-list > * + * {
  border-top-color: rgb(55 65 81 / 0.75);
}

@media (prefers-color-scheme: dark) {
  .insta-thread-list > * + * {
    border-top-color: rgb(55 65 81 / 0.75);
  }
}
