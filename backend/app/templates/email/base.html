<!-- backend/app/templates/email/base.html -->
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}{{ subject or ('Message from ' ~ brand_name) }}{% endblock %}</title>
    {% block extra_head %}{% endblock %}
    <style>
    @media (prefers-color-scheme: dark) {
        body {
            background: #0f0f12 !important;
        }
        .panel {
            background: #141414 !important;
            color: #EAEAEA !important;
        }
        .panel-muted {
            color: #B0B0B0 !important;
        }
        .panel a {
            color: #C9B6FF !important;
        }
    }
    .panel a:focus,
    .panel a:hover {
        text-decoration: underline !important;
    }
    </style>
</head>
<body style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; line-height: 1.6; color: #333; max-width: 600px; margin: 0 auto; padding: 20px;">
    <div style="display:none;max-height:0;overflow:hidden;opacity:0;">
        {% block preheader %}Early access to NYC's instant-booking marketplace — priority placement & concierge onboarding.{% endblock %}
    </div>
    <div class="panel" style="background: linear-gradient(135deg, #D8B4FE 0%, #F3E8FF 100%); padding: 1px; border-radius: 12px; box-shadow: 0 4px 14px rgba(126,34,206,0.15);">
        <div class="panel" style="background-color: #ffffff; border-radius: 12px;">
            {% block header %}
            {%- set header_bg_color = '#7E22CE' -%}
            {%- set header_text_color = '#E9D5FF' -%}
            {% block header_colors %}{% endblock %}
            <div style="background: #7E22CE; padding: 30px; text-align: center; border-radius: 12px 12px 0 0; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                <h1 style="color: white; margin: 0; font-size: 32px; font-weight: 700; letter-spacing: -0.5px; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;">{{ brand_name }}</h1>
                <p style="color: {{ header_text_color }}; margin: 10px 0 0 0; font-size: 14px;">{% block header_subtitle %}{{ header_subtitle or '' }}{% endblock %}</p>
            </div>
            {% endblock %}

            <div class="panel panel-muted" style="background-color: #F9F5FF; background-image: linear-gradient(180deg, #F9F5FF 0%, #FFFFFF 60%); padding: 40px; border-radius: 0 0 12px 12px;">
                {% block content %}{% endblock %}
            </div>
        </div>
    </div>

    {% block footer %}
    <div style="text-align: center; padding: 20px; color: #6B7280; font-size: 12px;">
        <p style="margin: 0 0 8px 0;">© {{ current_year }} <span style="color: #7E22CE; font-weight: 600;">{{ brand_name }}</span>. All rights reserved.</p>
        <p style="margin: 0;">
            <a href="{{ base_url }}/legal" style="color: #7E22CE; text-decoration: none; font-weight: 500;">Help Center</a> |
            <a href="{{ base_url }}/legal#terms" style="color: #7E22CE; text-decoration: none; font-weight: 500;">Terms of Service</a> |
            <a href="{{ base_url }}/legal#privacy" style="color: #7E22CE; text-decoration: none; font-weight: 500;">Privacy Policy</a>
        </p>
    </div>
    {% endblock %}
</body>
</html>
